<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>대한민국 연령대별 사망원인 통계</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap');
        body { font-family: 'Pretendard', sans-serif; background-color: #f8fafc; }
        .chart-container { position: relative; height: 400px; width: 100%; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="text-slate-800">

    <!-- Navigation -->
    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-2 cursor-pointer" onclick="showTab('home')">
                    <i class="fa-solid fa-chart-line text-blue-600 text-2xl"></i>
                    <span class="font-bold text-xl tracking-tight">K-Health Data</span>
                </div>
                <div class="flex gap-4">
                    <button onclick="showTab('home')" class="p-2 hover:bg-slate-100 rounded-full transition-colors flex items-center gap-1 text-slate-600 font-medium">
                        <i class="fa-solid fa-house"></i>
                        <span class="hidden sm:inline">홈</span>
                    </button>
                    <button onclick="showTab('analysis')" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-blue-700 transition-colors">
                        데이터 대시보드
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Home Tab -->
        <div id="home" class="tab-content active fade-in space-y-8">
            <div class="relative overflow-hidden bg-indigo-900 rounded-3xl p-8 md:p-12 text-white shadow-2xl">
                <div class="relative z-10 max-w-2xl">
                    <h1 class="text-3xl md:text-5xl font-bold mb-4 leading-tight">연령대별 주요 사망 원인,<br>데이터로 읽는 생애 주기</h1>
                    <p class="text-indigo-100 text-lg mb-8 opacity-90">통계청 데이터를 기반으로 대한민국 국민의 주요 사인과 건강 지표 변화를 인터랙티브하게 분석했습니다.</p>
                    <button onclick="showTab('analysis')" class="bg-white text-indigo-900 px-8 py-3 rounded-full font-bold hover:bg-indigo-50 transition-all flex items-center gap-2">
                        대시보드 보기 <i class="fa-solid fa-arrow-right"></i>
                    </button>
                </div>
                <div class="absolute right-0 bottom-0 opacity-10 pointer-events-none">
                    <i class="fa-solid fa-heart-pulse text-[20rem]"></i>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                    <div class="w-12 h-12 bg-red-100 text-red-600 rounded-xl flex items-center justify-center mb-4">
                        <i class="fa-solid fa-triangle-exclamation"></i>
                    </div>
                    <h3 class="font-bold text-lg mb-2">청년기 정신건강</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">10~30대 사망 원인 1위는 자살로 나타났습니다. 청년층의 심리적 지지가 매우 중요합니다.</p>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                    <div class="w-12 h-12 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center mb-4">
                        <i class="fa-solid fa-microscope"></i>
                    </div>
                    <h3 class="font-bold text-lg mb-2">중년기 만성 질환</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">40대 이후 암과 심장 질환 비율이 높아지며 정기 검진의 필요성이 부각됩니다.</p>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                    <div class="w-12 h-12 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center mb-4">
                        <i class="fa-solid fa-users-viewfinder"></i>
                    </div>
                    <h3 class="font-bold text-lg mb-2">고령화 대응</h3>
                    <p class="text-slate-500 text-sm leading-relaxed">80대 이상에서는 폐렴과 치매 등 퇴행성 질환 관리가 주요한 보건 이슈입니다.</p>
                </div>
            </div>
        </div>

        <!-- Analysis Tab -->
        <div id="analysis" class="tab-content fade-in space-y-8">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                <div>
                    <h2 class="text-2xl font-bold">주요 사망 원인 상세 분석</h2>
                    <p class="text-slate-500">연령대를 선택하여 원인별 비중을 확인하세요.</p>
                </div>
                <select id="ageSelector" onchange="updateCharts()" class="bg-white border border-slate-200 rounded-lg px-4 py-2 font-semibold shadow-sm outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="10">10대 (10~19세)</option>
                    <option value="20">20대 (20~29세)</option>
                    <option value="30">30대 (30~39세)</option>
                    <option value="40" selected>40대 (40~49세)</option>
                    <option value="50">50대 (50~59세)</option>
                    <option value="60">60대 (60~69세)</option>
                    <option value="70">70대 (70~79세)</option>
                    <option value="80">80세 이상</option>
                </select>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Bar Chart -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-chart-bar text-blue-500"></i>
                        원인별 사망률 (인구 10만 명당)
                    </h3>
                    <div class="chart-container">
                        <canvas id="barChart"></canvas>
                    </div>
                </div>

                <!-- Pie Chart -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-chart-pie text-orange-500"></i>
                        상위 5대 사인 분포
                    </h3>
                    <div class="chart-container">
                        <canvas id="pieChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Insight Card -->
            <div id="insightCard" class="bg-blue-50 p-6 rounded-2xl border border-blue-100">
                <h4 class="font-bold text-blue-900 mb-2 flex items-center gap-2">
                    <i class="fa-solid fa-lightbulb"></i>
                    데이터 인사이트
                </h4>
                <p id="insightText" class="text-blue-800 leading-relaxed font-medium">
                    데이터를 로딩 중입니다...
                </p>
            </div>
        </div>
    </main>

    <script>
        // Mock Data based on typical Korean statistics trends
        const deathData = {
            10: { labels: ['자살', '운수사고', '암', '추락사고', '심장질환'], values: [6.5, 2.8, 2.1, 0.5, 0.4], insight: "10대는 자살과 교통사고 등 외부 요인에 의한 사망이 전체의 상당 부분을 차지합니다." },
            20: { labels: ['자살', '운수사고', '암', '심장질환', '추락사고'], values: [21.4, 4.2, 3.5, 1.2, 0.8], insight: "20대는 고의적 자해(자살)가 사망원인의 절반 이상을 차지할 만큼 정신건강 문제가 심각합니다." },
            30: { labels: ['자살', '암', '운수사고', '심장질환', '간질환'], values: [26.9, 10.2, 3.8, 2.5, 1.8], insight: "30대 역시 자살이 1위이나, 암과 질병에 의한 사망률이 서서히 증가하는 시기입니다." },
            40: { labels: ['암', '자살', '간질환', '심장질환', '뇌혈관질환'], values: [45.8, 24.1, 10.5, 8.2, 6.1], insight: "40대부터는 암(악성신생물)이 사망원인 1위로 올라서며 만성 질환 관리가 중요해집니다." },
            50: { labels: ['암', '심장질환', '자살', '간질환', '뇌혈관질환'], values: [154.2, 32.5, 28.4, 25.1, 18.9], insight: "50대는 암 사망률이 급격히 증가하며, 남성의 경우 간 질환 비중이 특히 높게 나타납니다." },
            60: { labels: ['암', '심장질환', '뇌혈관질환', '자살', '폐렴'], values: [420.5, 75.8, 42.1, 35.4, 32.1], insight: "60대 이후에는 폐렴과 뇌혈관 질환 등 퇴행성 및 감염성 질환 사망률이 동반 상승합니다." },
            70: { labels: ['암', '심장질환', '폐렴', '뇌혈관질환', '알츠하이머'], values: [850.2, 210.4, 180.5, 120.3, 45.8], insight: "70대는 만성 질환이 누적되어 나타나는 시기로, 폐렴이 주요 사인으로 부각됩니다." },
            80: { labels: ['암', '심장질환', '폐렴', '뇌혈관질환', '알츠하이머'], values: [1800.5, 950.2, 820.4, 450.1, 380.7], insight: "80세 이상은 신체 기능 저하와 관련된 폐렴 및 치매(알츠하이머)의 비중이 매우 높습니다." }
        };

        let barChart, pieChart;

        function initCharts() {
            const ctxBar = document.getElementById('barChart').getContext('2d');
            const ctxPie = document.getElementById('pieChart').getContext('2d');

            barChart = new Chart(ctxBar, {
                type: 'bar',
                data: { labels: [], datasets: [{ label: '사망률 (10만명당)', backgroundColor: '#3b82f6', data: [] }] },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
            });

            pieChart = new Chart(ctxPie, {
                type: 'doughnut',
                data: { labels: [], datasets: [{ data: [], backgroundColor: ['#ef4444', '#f59e0b', '#10b981', '#3b82f6', '#8b5cf6'] }] },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
            });

            updateCharts();
        }

        function updateCharts() {
            const age = document.getElementById('ageSelector').value;
            const data = deathData[age];

            // Update Bar Chart
            barChart.data.labels = data.labels;
            barChart.data.datasets[0].data = data.values;
            barChart.update();

            // Update Pie Chart
            pieChart.data.labels = data.labels;
            pieChart.data.datasets[0].data = data.values;
            pieChart.update();

            // Update Insight
            document.getElementById('insightText').textContent = data.insight;
        }

        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        window.onload = initCharts;
    </script>
</body>
</html>
